<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>歌曲信息</title>
</head>
<body>
<img th:src="${song.albumImage}"/>
<h1 th:text="${song.name}"></h1>

<a href="#" class="player-btn">播放</a>
<audio id="player" src="" style="display: none" controls="controls"></audio>

<h3>
  <label>歌手：</label><span th:text="${song.singer}"></span>
</h3>
<h3>
  <label>所属专辑：</label><span th:text="${song.albumName}"></span>
</h3>
<h3>
  <label>评论数：</label><span th:text="${song.commentCount}"></span>
</h3>
<div th:utext="${song.lyrics}"></div>

<script src="/jquery.js"></script>
<script>
  $(function () {
    $(".player-btn").on('click', function (e) {
      e.preventDefault();
      $.ajax({
        url: "/song/music",
        method: "GET",
        data: {
          songId: "35847388"
        },
        cache: false
      })
      .done(function (data) {
        $("#player").show();
        $("#player").attr("src", data);
        document.getElementById("player").play();
      })
    })
  })
</script>
</body>
</html>